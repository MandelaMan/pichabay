{"ast":null,"code":"import React,{useEffect,useContext}from\"react\";import{Link,Redirect}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import{GlobalContext}from\"../../context/GlobalState\";import Footer from\"../../components/layout/Footer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(){var _useContext=useContext(GlobalContext),userLogin=_useContext.userLogin,isLoading=_useContext.isLoading,isLoggedIn=_useContext.isLoggedIn;var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors,reset=_useForm.reset;var onSubmit=function onSubmit(data){userLogin(data);reset();};useEffect(function(){if(isLoggedIn){reset();}return function(){//   cleanup\n};// eslint-disable-next-line\n},[isLoading]);if(isLoggedIn){var to=\"/\";return/*#__PURE__*/_jsx(Redirect,{to:to});}else{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"login-signup-form\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"utf-welcome-text-item\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sign in to continue\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Don't have an account?\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/create-account\",children:\"Create Account\"})]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"utf-no-border\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"err_msg\",children:errors.email&&errors.email.message}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"utf-with-border\",name:\"email\",placeholder:\"Email address\",ref:register({required:\"Please enter email\",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,message:\"Enter a valid email address\"}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"utf-no-border\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"err_msg\",children:errors.password&&errors.password.message}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"utf-with-border\",name:\"password\",placeholder:\"Password\",ref:register({required:\"Please enter password\"})})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"button full-width utf-button-sliding-icon ripple-effect\",type:\"submit\",children:[\"Log in \",/*#__PURE__*/_jsx(\"i\",{className:\"icon-feather-chevron-right\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"margin-top-20 centered\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Forgot Password?\"})})]})]})})})})}),/*#__PURE__*/_jsx(Footer,{})]});}};export default Login;","map":{"version":3,"sources":["C:/React/pichabay/src/pages/auth/Login.js"],"names":["React","useEffect","useContext","Link","Redirect","useForm","GlobalContext","Footer","Login","userLogin","isLoading","isLoggedIn","register","handleSubmit","errors","reset","onSubmit","data","to","email","message","required","pattern","value","password"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,UAA3B,KAA6C,OAA7C,CACA,OAASC,IAAT,CAAeC,QAAf,KAA+B,kBAA/B,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,OAASC,aAAT,KAA8B,2BAA9B,CACA,MAAOC,CAAAA,MAAP,KAAmB,gCAAnB,C,6IAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClB,gBAA6CN,UAAU,CAACI,aAAD,CAAvD,CAAQG,SAAR,aAAQA,SAAR,CAAmBC,SAAnB,aAAmBA,SAAnB,CAA8BC,UAA9B,aAA8BA,UAA9B,CAEA,aAAkDN,OAAO,EAAzD,CAAQO,QAAR,UAAQA,QAAR,CAAkBC,YAAlB,UAAkBA,YAAlB,CAAgCC,MAAhC,UAAgCA,MAAhC,CAAwCC,KAAxC,UAAwCA,KAAxC,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,IAAD,CAAU,CACzBR,SAAS,CAACQ,IAAD,CAAT,CAEAF,KAAK,GACN,CAJD,CAMAd,SAAS,CAAC,UAAM,CACd,GAAIU,UAAJ,CAAgB,CACdI,KAAK,GACN,CACD,MAAO,WAAM,CACX;AACD,CAFD,CAIA;AACD,CATQ,CASN,CAACL,SAAD,CATM,CAAT,CAWA,GAAIC,UAAJ,CAAgB,CACd,GAAIO,CAAAA,EAAE,CAAG,GAAT,CAEA,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAEA,EAAd,EAAP,CACD,CAJD,IAIO,CACL,mBACE,wCACE,YAAK,SAAS,CAAC,mBAAf,uBACE,YAAK,SAAS,CAAC,WAAf,uBACE,YAAK,SAAS,CAAC,KAAf,uBACE,YAAK,SAAS,CAAC,WAAf,uBACE,aAAK,SAAS,CAAC,UAAf,wBACE,aAAK,SAAS,CAAC,uBAAf,wBACE,2CADF,cAEE,iDACyB,GADzB,cAEE,KAAC,IAAD,EAAM,EAAE,CAAC,iBAAT,4BAFF,GAFF,GADF,cAQE,cAAM,QAAQ,CAAEL,YAAY,CAACG,QAAD,CAA5B,wBACE,aAAK,SAAS,CAAC,eAAf,wBACE,aAAM,SAAS,CAAC,SAAhB,UACGF,MAAM,CAACK,KAAP,EAAgBL,MAAM,CAACK,KAAP,CAAaC,OADhC,EADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,iBAFZ,CAGE,IAAI,CAAC,OAHP,CAIE,WAAW,CAAC,eAJd,CAKE,GAAG,CAAER,QAAQ,CAAC,CACZS,QAAQ,CAAE,oBADE,CAEZC,OAAO,CAAE,CACPC,KAAK,CAAE,0CADA,CAEPH,OAAO,CAAE,6BAFF,CAFG,CAAD,CALf,EAJF,GADF,cAmBE,aAAK,SAAS,CAAC,eAAf,wBACE,aAAM,SAAS,CAAC,SAAhB,UACGN,MAAM,CAACU,QAAP,EAAmBV,MAAM,CAACU,QAAP,CAAgBJ,OADtC,EADF,cAIE,cACE,IAAI,CAAC,UADP,CAEE,SAAS,CAAC,iBAFZ,CAGE,IAAI,CAAC,UAHP,CAIE,WAAW,CAAC,UAJd,CAKE,GAAG,CAAER,QAAQ,CAAC,CACZS,QAAQ,CAAE,uBADE,CAAD,CALf,EAJF,GAnBF,cAiCE,gBACE,SAAS,CAAC,yDADZ,CAEE,IAAI,CAAC,QAFP,kCAIS,UAAG,SAAS,CAAC,4BAAb,EAJT,GAjCF,cAuCE,YAAK,SAAS,CAAC,wBAAf,uBACE,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,8BADF,EAvCF,GARF,GADF,EADF,EADF,EADF,EADF,cA6DE,KAAC,MAAD,IA7DF,GADF,CAiED,CACF,CA7FD,CA+FA,cAAeb,CAAAA,KAAf","sourcesContent":["import React, { useEffect, useContext } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { GlobalContext } from \"../../context/GlobalState\";\r\nimport Footer from \"../../components/layout/Footer\";\r\n\r\nconst Login = () => {\r\n  const { userLogin, isLoading, isLoggedIn } = useContext(GlobalContext);\r\n\r\n  const { register, handleSubmit, errors, reset } = useForm();\r\n\r\n  const onSubmit = (data) => {\r\n    userLogin(data);\r\n\r\n    reset();\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isLoggedIn) {\r\n      reset();\r\n    }\r\n    return () => {\r\n      //   cleanup\r\n    };\r\n\r\n    // eslint-disable-next-line\r\n  }, [isLoading]);\r\n\r\n  if (isLoggedIn) {\r\n    let to = \"/\";\r\n\r\n    return <Redirect to={to} />;\r\n  } else {\r\n    return (\r\n      <>\r\n        <div className=\"login-signup-form\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-xl-12\">\r\n                <div className=\"form-box\">\r\n                  <div className=\"utf-welcome-text-item\">\r\n                    <h3>Sign in to continue</h3>\r\n                    <span>\r\n                      Don't have an account?{\" \"}\r\n                      <Link to=\"/create-account\">Create Account</Link>\r\n                    </span>\r\n                  </div>\r\n                  <form onSubmit={handleSubmit(onSubmit)}>\r\n                    <div className=\"utf-no-border\">\r\n                      <span className=\"err_msg\">\r\n                        {errors.email && errors.email.message}\r\n                      </span>\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"utf-with-border\"\r\n                        name=\"email\"\r\n                        placeholder=\"Email address\"\r\n                        ref={register({\r\n                          required: \"Please enter email\",\r\n                          pattern: {\r\n                            value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\r\n                            message: \"Enter a valid email address\",\r\n                          },\r\n                        })}\r\n                      />\r\n                    </div>\r\n                    <div className=\"utf-no-border\">\r\n                      <span className=\"err_msg\">\r\n                        {errors.password && errors.password.message}\r\n                      </span>\r\n                      <input\r\n                        type=\"password\"\r\n                        className=\"utf-with-border\"\r\n                        name=\"password\"\r\n                        placeholder=\"Password\"\r\n                        ref={register({\r\n                          required: \"Please enter password\",\r\n                        })}\r\n                      />\r\n                    </div>\r\n                    <button\r\n                      className=\"button full-width utf-button-sliding-icon ripple-effect\"\r\n                      type=\"submit\"\r\n                    >\r\n                      Log in <i className=\"icon-feather-chevron-right\"></i>\r\n                    </button>\r\n                    <div className=\"margin-top-20 centered\">\r\n                      <Link to=\"/\">Forgot Password?</Link>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Footer />\r\n      </>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}