{"ast":null,"code":"import React,{useEffect,useContext}from\"react\";import{Link,Redirect}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import{GlobalContext}from\"../../context/GlobalState\";import Footer from\"../../components/layout/Footer\";import VerifyCode from\"./VerifyCode\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Register=function Register(){var _useContext=useContext(GlobalContext),userRegistration=_useContext.userRegistration,isLoading=_useContext.isLoading,isLoggedIn=_useContext.isLoggedIn,user_info=_useContext.user_info;var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.errors,reset=_useForm.reset;var onSubmit=function onSubmit(data){userRegistration(data);reset();};if(isLoggedIn){if(user_info.email_verification){return/*#__PURE__*/_jsx(VerifyCode,{});}else{var to=\"/\";return/*#__PURE__*/_jsx(Redirect,{to:to});}}else{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"login-signup-form\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"utf-welcome-text-item\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Create account to continue\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Sign in\"})]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"utf-no-border\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"err_msg\",children:errors.username&&errors.username.message}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"utf-with-border\",name:\"username\",placeholder:\"Username\",ref:register({required:\"Please enter a username\",pattern:{value:/^[^\\s]+(?:$|.*[^\\s]+$)/,message:\"Add a second name\"}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"utf-no-border\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"err_msg\",children:errors.email&&errors.email.message}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"utf-with-border\",name:\"email\",placeholder:\"Email Address\",ref:register({required:\"Please enter an email\",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,message:\"Enter a valid email address\"}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"utf-no-border margin-bottom-20\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"err_msg\",children:errors.account_type&&errors.account_type.message}),/*#__PURE__*/_jsxs(\"select\",{className:\"selectpicker utf-with-border\",\"data-size\":\"5\",title:\"How do you want to use Pichabay?\",name:\"account_type\",ref:register({required:\"Please choose one\"}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Book a photographer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"Sell my photography services\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"utf-no-border\",title:\"Should be at least 8 characters long\",\"data-tippy-placement\":\"bottom\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"err_msg\",children:errors.password&&errors.password.message}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"utf-with-border\",name:\"password\",placeholder:\"Password\",ref:register({required:\"Please enter a password\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"utf-no-border\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"err_msg\",children:errors.conf_password&&errors.conf_password.message}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"utf-with-border\",name:\"conf_password\",placeholder:\"Repeat Password\",ref:register({required:\"Please confirm your password\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkbox margin-top-0\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"two-step0\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"two-step0\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"checkbox-icon\"}),\" I Have Read and Agree to the \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Terms & Conditions\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"margin-top-10 button full-width utf-button-sliding-icon ripple-effect\",type:\"submit\",children:[\"Register \",/*#__PURE__*/_jsx(\"i\",{className:\"icon-feather-chevron-right\"})]})]})]})})})})}),/*#__PURE__*/_jsx(Footer,{})]});}};export default Register;","map":{"version":3,"sources":["C:/React/pichabay/src/pages/auth/Register.js"],"names":["React","useEffect","useContext","Link","Redirect","useForm","GlobalContext","Footer","VerifyCode","Register","userRegistration","isLoading","isLoggedIn","user_info","register","handleSubmit","errors","reset","onSubmit","data","email_verification","to","username","message","required","pattern","value","email","account_type","password","conf_password"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext } from \"react\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { GlobalContext } from \"../../context/GlobalState\";\r\nimport Footer from \"../../components/layout/Footer\";\r\nimport VerifyCode from \"./VerifyCode\";\r\n\r\nconst Register = () => {\r\n  const { userRegistration, isLoading, isLoggedIn, user_info } =\r\n    useContext(GlobalContext);\r\n\r\n  const { register, handleSubmit, errors, reset } = useForm();\r\n\r\n  const onSubmit = (data) => {\r\n    userRegistration(data);\r\n\r\n    reset();\r\n  };\r\n\r\n  if (isLoggedIn) {\r\n    if (user_info.email_verification) {\r\n      return <VerifyCode />;\r\n    } else {\r\n      let to = \"/\";\r\n      return <Redirect to={to} />;\r\n    }\r\n  } else {\r\n    return (\r\n      <>\r\n        <div className=\"login-signup-form\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-xl-12\">\r\n                <div className=\"form-box\">\r\n                  <div className=\"utf-welcome-text-item\">\r\n                    <h3>Create account to continue</h3>\r\n                    <span>\r\n                      Already have an account? <Link to=\"/login\">Sign in</Link>\r\n                    </span>\r\n                  </div>\r\n                  <form onSubmit={handleSubmit(onSubmit)}>\r\n                    <div className=\"utf-no-border\">\r\n                      <span className=\"err_msg\">\r\n                        {errors.username && errors.username.message}\r\n                      </span>\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"utf-with-border\"\r\n                        name=\"username\"\r\n                        placeholder=\"Username\"\r\n                        ref={register({\r\n                          required: \"Please enter a username\",\r\n                          pattern: {\r\n                            value: /^[^\\s]+(?:$|.*[^\\s]+$)/,\r\n                            message: \"Add a second name\",\r\n                          },\r\n                        })}\r\n                      />\r\n                    </div>\r\n                    <div className=\"utf-no-border\">\r\n                      <span className=\"err_msg\">\r\n                        {errors.email && errors.email.message}\r\n                      </span>\r\n                      <input\r\n                        type=\"text\"\r\n                        className=\"utf-with-border\"\r\n                        name=\"email\"\r\n                        placeholder=\"Email Address\"\r\n                        ref={register({\r\n                          required: \"Please enter an email\",\r\n                          pattern: {\r\n                            value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\r\n                            message: \"Enter a valid email address\",\r\n                          },\r\n                        })}\r\n                      />\r\n                    </div>\r\n                    <div className=\"utf-no-border margin-bottom-20\">\r\n                      <span className=\"err_msg\">\r\n                        {errors.account_type && errors.account_type.message}\r\n                      </span>\r\n                      <select\r\n                        className=\"selectpicker utf-with-border\"\r\n                        data-size=\"5\"\r\n                        title=\"How do you want to use Pichabay?\"\r\n                        name=\"account_type\"\r\n                        ref={register({\r\n                          required: \"Please choose one\",\r\n                        })}\r\n                      >\r\n                        <option value=\"1\">Book a photographer</option>\r\n                        <option value=\"2\">Sell my photography services</option>\r\n                      </select>\r\n                    </div>\r\n                    <div\r\n                      className=\"utf-no-border\"\r\n                      title=\"Should be at least 8 characters long\"\r\n                      data-tippy-placement=\"bottom\"\r\n                    >\r\n                      <span className=\"err_msg\">\r\n                        {errors.password && errors.password.message}\r\n                      </span>\r\n                      <input\r\n                        type=\"password\"\r\n                        className=\"utf-with-border\"\r\n                        name=\"password\"\r\n                        placeholder=\"Password\"\r\n                        ref={register({\r\n                          required: \"Please enter a password\",\r\n                        })}\r\n                      />\r\n                    </div>\r\n                    <div className=\"utf-no-border\">\r\n                      <span className=\"err_msg\">\r\n                        {errors.conf_password && errors.conf_password.message}\r\n                      </span>\r\n                      <input\r\n                        type=\"password\"\r\n                        className=\"utf-with-border\"\r\n                        name=\"conf_password\"\r\n                        placeholder=\"Repeat Password\"\r\n                        ref={register({\r\n                          required: \"Please confirm your password\",\r\n                        })}\r\n                      />\r\n                    </div>\r\n                    <div className=\"checkbox margin-top-0\">\r\n                      <input type=\"checkbox\" id=\"two-step0\" />\r\n                      <label htmlFor=\"two-step0\">\r\n                        <span className=\"checkbox-icon\"></span> I Have Read and\r\n                        Agree to the <Link to=\"/\">Terms &amp; Conditions</Link>\r\n                      </label>\r\n                    </div>\r\n                    <button\r\n                      className=\"margin-top-10 button full-width utf-button-sliding-icon ripple-effect\"\r\n                      type=\"submit\"\r\n                    >\r\n                      Register <i className=\"icon-feather-chevron-right\"></i>\r\n                    </button>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Footer />\r\n      </>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Register;\r\n"]},"metadata":{},"sourceType":"module"}